# ESP32与ML307R硬件连接图

## 连接示意图

```
ESP32开发板                    ML307R 4G模块
┌─────────────┐               ┌─────────────┐
│             │               │             │
│  GPIO16 ────┼───────────────┼─── RXD      │
│             │               │             │
│  GPIO17 ────┼───────────────┼─── TXD      │
│             │               │             │
│  3.3V   ────┼───────────────┼─── VCC      │
│             │               │             │
│  GND    ────┼───────────────┼─── GND      │
│             │               │             │
└─────────────┘               └─────────────┘
```

## 详细连接表

| ESP32引脚 | ML307R引脚 | 线材颜色建议 | 功能说明 |
|-----------|------------|--------------|----------|
| GPIO16    | RXD        | 绿色         | ESP32接收ML307R数据 |
| GPIO17    | TXD        | 黄色         | ESP32发送数据到ML307R |
| 3.3V      | VCC        | 红色         | 电源正极 |
| GND       | GND        | 黑色         | 电源地线 |

## 电源连接建议

### 方案一：使用ESP32的3.3V电源
- 适用于低功耗应用
- ML307R功耗较大时可能不稳定

### 方案二：使用外部3.3V电源（推荐）
```
外部3.3V电源
┌─────────────┐
│ 3.3V/2A     │
│ 电源适配器   │
└─────────────┘
       │
       ├─── ESP32 VIN
       └─── ML307R VCC
```

## 注意事项

1. **电源要求**
   - ESP32: 3.3V, 500mA
   - ML307R: 3.3V, 2A峰值
   - 建议使用外部2A电源适配器

2. **电平匹配**
   - 确保ML307R的UART电平为3.3V
   - 如果ML307R是5V电平，需要电平转换器

3. **线材选择**
   - 使用屏蔽线减少干扰
   - 线长不超过20cm
   - 避免与高频信号线平行走线

4. **SIM卡安装**
   - 确保SIM卡正确插入
   - 检查SIM卡是否支持4G网络
   - 确认SIM卡有足够的流量

## 测试连接

连接完成后，可以通过以下方法测试：

1. **硬件测试**
   - 用万用表测量电压
   - 检查连接是否牢固

2. **软件测试**
   - 烧录程序后查看串口输出
   - 观察ML307R的AT命令响应

3. **功能测试**
   - 检查WiFi热点是否正常
   - 测试4G网络连接
   - 验证网络共享功能
