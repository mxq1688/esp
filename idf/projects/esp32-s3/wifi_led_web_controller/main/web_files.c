/*
 * Web Files Implementation for ESP32-S3 LED Controller
 * ç°ä»£åŒ–Webæ§åˆ¶ç•Œé¢
 */

#include "web_files.h"
#include <string.h>

// å®Œæ•´çš„HTMLé¡µé¢å†…å®¹
const char index_html_content[] = 
"<!DOCTYPE html>"
"<html lang='zh-CN'>"
"<head>"
"    <meta charset='UTF-8'>"
"    <meta name='viewport' content='width=device-width, initial-scale=1.0'>"
"    <title>ESP32-S3 LEDæ§åˆ¶å™¨</title>"
"    <style>"
"        * { margin: 0; padding: 0; box-sizing: border-box; }"
"        body {"
"            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;"
"            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"
"            min-height: 100vh; color: #333; padding: 20px;"
"        }"
"        .container {"
"            max-width: 1000px; margin: 0 auto;"
"            background: rgba(255, 255, 255, 0.95);"
"            border-radius: 20px; overflow: hidden;"
"            box-shadow: 0 20px 40px rgba(0,0,0,0.1);"
"        }"
"        .header {"
"            background: linear-gradient(45deg, #667eea, #764ba2);"
"            color: white; padding: 30px; text-align: center;"
"        }"
"        .header h1 { font-size: 2.5em; margin-bottom: 10px; }"
"        .status { font-size: 1.1em; opacity: 0.9; }"
"        .main { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; padding: 30px; }"
"        .card {"
"            background: #f8f9fa; border-radius: 15px; padding: 25px;"
"            box-shadow: 0 5px 15px rgba(0,0,0,0.08);"
"            border: 1px solid #e9ecef;"
"        }"
"        .card h3 { color: #495057; margin-bottom: 20px; font-size: 1.3em; }"
"        .color-controls { display: flex; flex-direction: column; gap: 20px; }"
"        .slider-group { display: flex; flex-direction: column; gap: 8px; }"
"        .slider-group label {"
"            display: flex; justify-content: space-between; align-items: center;"
"            font-weight: 600; color: #495057;"
"        }"
"        .slider {"
"            width: 100%; height: 10px; border-radius: 5px;"
"            background: #e9ecef; outline: none; cursor: pointer;"
"            -webkit-appearance: none; appearance: none;"
"        }"
"        .slider::-webkit-slider-thumb {"
"            -webkit-appearance: none; appearance: none;"
"            width: 24px; height: 24px; border-radius: 50%;"
"            background: #667eea; cursor: pointer;"
"            box-shadow: 0 2px 6px rgba(0,0,0,0.2);"
"        }"
"        .red-slider::-webkit-slider-thumb { background: #dc3545; }"
"        .green-slider::-webkit-slider-thumb { background: #28a745; }"
"        .blue-slider::-webkit-slider-thumb { background: #007bff; }"
"        .brightness-slider::-webkit-slider-thumb { background: #ffc107; }"
"        .preview-area { text-align: center; }"
"        .color-preview {"
"            width: 200px; height: 200px; border-radius: 50%;"
"            margin: 20px auto; box-shadow: 0 10px 30px rgba(0,0,0,0.2);"
"            background: linear-gradient(45deg, #667eea, #764ba2);"
"            transition: all 0.3s ease;"
"        }"
"        .color-info {"
"            display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px;"
"            margin-top: 20px;"
"        }"
"        .info-item {"
"            background: white; padding: 15px; border-radius: 10px;"
"            border: 2px solid #e9ecef; text-align: center;"
"        }"
"        .info-label { font-size: 0.9em; color: #6c757d; }"
"        .info-value { font-size: 1.2em; font-weight: bold; color: #495057; }"
"        .button-grid {"
"            display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;"
"            margin-top: 20px;"
"        }"
"        .btn {"
"            padding: 15px 20px; border: none; border-radius: 10px;"
"            font-size: 1em; font-weight: 600; cursor: pointer;"
"            transition: all 0.3s ease; text-align: center;"
"        }"
"        .btn:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }"
"        .btn-power { background: #28a745; color: white; }"
"        .btn-power.off { background: #6c757d; }"
"        .btn-effect { background: #667eea; color: white; }"
"        .btn-effect.active { background: #495057; }"
"        .preset-colors {"
"            display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;"
"            margin-top: 15px;"
"        }"
"        .preset-btn {"
"            width: 100%; height: 50px; border: none; border-radius: 8px;"
"            cursor: pointer; transition: all 0.3s ease;"
"            font-weight: bold; color: white; text-shadow: 0 1px 2px rgba(0,0,0,0.3);"
"        }"
"        .preset-btn:hover { transform: scale(1.05); }"
"        .wifi-info {"
"            background: #e7f3ff; border: 1px solid #b3d9ff;"
"            border-radius: 10px; padding: 15px; margin-top: 15px;"
"        }"
"        .notification {"
"            position: fixed; top: 20px; right: 20px; padding: 15px 20px;"
"            border-radius: 8px; color: white; font-weight: 600;"
"            transform: translateX(100%); transition: transform 0.3s ease;"
"            z-index: 1000; max-width: 300px;"
"        }"
"        .notification.show { transform: translateX(0); }"
"        .notification.success { background: #28a745; }"
"        .notification.error { background: #dc3545; }"
"        @media (max-width: 768px) {"
"            .main { grid-template-columns: 1fr; gap: 20px; }"
"            .color-info { grid-template-columns: repeat(2, 1fr); }"
"        }"
"    </style>"
"</head>"
"<body>"
"    <div class='container'>"
"        <div class='header'>"
"            <h1>ğŸŒˆ ESP32-S3 LEDæ§åˆ¶å™¨</h1>"
"            <div class='status' id='status'>ğŸ”— NATç½‘ç»œè½¬å‘å·²å¯ç”¨ - è®¾å¤‡å¯è®¿é—®äº’è”ç½‘</div>"
"        </div>"
"        <div class='main'>"
"            <div class='control-panel'>"
"                <div class='card'>"
"                    <h3>ğŸ¨ é¢œè‰²æ§åˆ¶</h3>"
"                    <div class='color-controls'>"
"                        <div class='slider-group'>"
"                            <label>ğŸ”´ çº¢è‰² <span id='r-val'>255</span></label>"
"                            <input type='range' id='r-slider' class='slider red-slider' min='0' max='255' value='255'>"
"                        </div>"
"                        <div class='slider-group'>"
"                            <label>ğŸŸ¢ ç»¿è‰² <span id='g-val'>255</span></label>"
"                            <input type='range' id='g-slider' class='slider green-slider' min='0' max='255' value='255'>"
"                        </div>"
"                        <div class='slider-group'>"
"                            <label>ğŸ”µ è“è‰² <span id='b-val'>255</span></label>"
"                            <input type='range' id='b-slider' class='slider blue-slider' min='0' max='255' value='255'>"
"                        </div>"
"                        <div class='slider-group'>"
"                            <label>ğŸ’¡ äº®åº¦ <span id='brightness-val'>50%</span></label>"
"                            <input type='range' id='brightness-slider' class='slider brightness-slider' min='0' max='100' value='50'>"
"                        </div>"
"                    </div>"
"                </div>"
"                <div class='card'>"
"                    <h3>âš¡ æ§åˆ¶é¢æ¿</h3>"
"                    <button class='btn btn-power' id='power-btn' onclick='togglePower()'>ğŸ’¡ å¼€å¯LED</button>"
"                    <div class='button-grid'>"
"                        <button class='btn btn-effect active' onclick='setEffect(\"static\")'>ğŸŒŸ é™æ€</button>"
"                        <button class='btn btn-effect' onclick='setEffect(\"rainbow\")'>ğŸŒˆ å½©è™¹</button>"
"                        <button class='btn btn-effect' onclick='setEffect(\"breath\")'>ğŸ’¨ å‘¼å¸</button>"
"                        <button class='btn btn-effect' onclick='setEffect(\"blink\")'>âš¡é—ªçƒ</button>"
"                    </div>"
"                </div>"
"                <div class='card'>"
"                    <h3>ğŸ¯ é¢„è®¾é¢œè‰²</h3>"
"                    <div class='preset-colors'>"
"                        <button class='preset-btn' style='background:#dc3545' onclick='setColor(255,0,0)'>çº¢</button>"
"                        <button class='preset-btn' style='background:#28a745' onclick='setColor(0,255,0)'>ç»¿</button>"
"                        <button class='preset-btn' style='background:#007bff' onclick='setColor(0,0,255)'>è“</button>"
"                        <button class='preset-btn' style='background:#ffc107;color:#000' onclick='setColor(255,255,0)'>é»„</button>"
"                        <button class='preset-btn' style='background:#e83e8c' onclick='setColor(255,0,255)'>ç´«</button>"
"                        <button class='preset-btn' style='background:#17a2b8' onclick='setColor(0,255,255)'>é’</button>"
"                        <button class='preset-btn' style='background:#fd7e14' onclick='setColor(255,128,0)'>æ©™</button>"
"                        <button class='preset-btn' style='background:#f8f9fa;color:#000;border:2px solid #dee2e6' onclick='setColor(255,255,255)'>ç™½</button>"
"                    </div>"
"                </div>"
"            </div>"
"            <div class='preview-panel'>"
"                <div class='card preview-area'>"
"                    <h3>ğŸ¨ å®æ—¶é¢„è§ˆ</h3>"
"                    <div class='color-preview' id='color-preview'></div>"
"                    <div class='color-info'>"
"                        <div class='info-item'>"
"                            <div class='info-label'>çº¢è‰²</div>"
"                            <div class='info-value' id='r-display'>255</div>"
"                        </div>"
"                        <div class='info-item'>"
"                            <div class='info-label'>ç»¿è‰²</div>"
"                            <div class='info-value' id='g-display'>255</div>"
"                        </div>"
"                        <div class='info-item'>"
"                            <div class='info-label'>è“è‰²</div>"
"                            <div class='info-value' id='b-display'>255</div>"
"                        </div>"
"                        <div class='info-item'>"
"                            <div class='info-label'>äº®åº¦</div>"
"                            <div class='info-value' id='brightness-display'>50%</div>"
"                        </div>"
"                    </div>"
"                </div>"
"                <div class='card'>"
"                    <h3>ğŸ“¶ ç½‘ç»œçŠ¶æ€</h3>"
"                    <div id='network-status'>æ­£åœ¨è·å–çŠ¶æ€...</div>"
"                    <div class='wifi-info'>"
"                        <p><strong>ğŸŒ ç½‘ç»œè½¬å‘åŠŸèƒ½:</strong> å·²å¯ç”¨</p>"
"                        <p><strong>ğŸ“¡ çƒ­ç‚¹åç§°:</strong> ESP32-S3-LED</p>"
"                        <p><strong>ğŸ” çƒ­ç‚¹å¯†ç :</strong> 12345678</p>"
"                        <p><strong>ğŸŒ è®¿é—®åœ°å€:</strong> 192.168.4.1</p>"
"                        <p><strong>ğŸ’¡ æç¤º:</strong> è¿æ¥æ­¤çƒ­ç‚¹åå¯æ­£å¸¸ä¸Šç½‘</p>"
"                    </div>"
"                </div>"
"            </div>"
"        </div>"
"    </div>"
"    <script>"
"        let powerState = false;"
"        let currentColor = {r: 255, g: 255, b: 255};"
"        let currentBrightness = 50;"
"        let currentEffect = 'static';"
"        "
"        document.addEventListener('DOMContentLoaded', function() {"
"            setupEventListeners();"
"            updatePreview();"
"            getStatus();"
"            setInterval(getStatus, 5000);"
"        });"
"        "
"        function setupEventListeners() {"
"            document.getElementById('r-slider').oninput = updateColor;"
"            document.getElementById('g-slider').oninput = updateColor;"
"            document.getElementById('b-slider').oninput = updateColor;"
"            document.getElementById('brightness-slider').oninput = updateColor;"
"        }"
"        "
"        function updateColor() {"
"            currentColor.r = parseInt(document.getElementById('r-slider').value);"
"            currentColor.g = parseInt(document.getElementById('g-slider').value);"
"            currentColor.b = parseInt(document.getElementById('b-slider').value);"
"            currentBrightness = parseInt(document.getElementById('brightness-slider').value);"
"            updateDisplays();"
"            updatePreview();"
"            if(powerState) sendColorToDevice();"
"        }"
"        "
"        function updateDisplays() {"
"            document.getElementById('r-val').textContent = currentColor.r;"
"            document.getElementById('g-val').textContent = currentColor.g;"
"            document.getElementById('b-val').textContent = currentColor.b;"
"            document.getElementById('brightness-val').textContent = currentBrightness + '%';"
"            document.getElementById('r-display').textContent = currentColor.r;"
"            document.getElementById('g-display').textContent = currentColor.g;"
"            document.getElementById('b-display').textContent = currentColor.b;"
"            document.getElementById('brightness-display').textContent = currentBrightness + '%';"
"        }"
"        "
"        function updatePreview() {"
"            const preview = document.getElementById('color-preview');"
"            const factor = currentBrightness / 100;"
"            const r = Math.round(currentColor.r * factor);"
"            const g = Math.round(currentColor.g * factor);"
"            const b = Math.round(currentColor.b * factor);"
"            preview.style.background = `rgb(${r}, ${g}, ${b})`;"
"            if(currentBrightness > 30) {"
"                preview.style.boxShadow = `0 0 30px rgba(${r}, ${g}, ${b}, 0.6)`;"
"            } else {"
"                preview.style.boxShadow = '0 10px 30px rgba(0,0,0,0.2)';"
"            }"
"        }"
"        "
"        async function sendColorToDevice() {"
"            try {"
"                const response = await fetch('/api/led/color', {"
"                    method: 'POST',"
"                    headers: {'Content-Type': 'application/json'},"
"                    body: JSON.stringify({"
"                        r: currentColor.r,"
"                        g: currentColor.g,"
"                        b: currentColor.b,"
"                        brightness: currentBrightness"
"                    })"
"                });"
"                if(!response.ok) throw new Error('ç½‘ç»œé”™è¯¯');"
"            } catch(e) {"
"                showNotification('é¢œè‰²è®¾ç½®å¤±è´¥', 'error');"
"            }"
"        }"
"        "
"        async function togglePower() {"
"            powerState = !powerState;"
"            try {"
"                const response = await fetch('/api/led/power', {"
"                    method: 'POST',"
"                    headers: {'Content-Type': 'application/json'},"
"                    body: JSON.stringify({power: powerState})"
"                });"
"                if(response.ok) {"
"                    updatePowerButton();"
"                    if(powerState) sendColorToDevice();"
"                    showNotification(powerState ? 'LEDå·²å¼€å¯' : 'LEDå·²å…³é—­', 'success');"
"                } else {"
"                    powerState = !powerState;"
"                    throw new Error('æ“ä½œå¤±è´¥');"
"                }"
"            } catch(e) {"
"                powerState = !powerState;"
"                showNotification('ç”µæºæ§åˆ¶å¤±è´¥', 'error');"
"            }"
"        }"
"        "
"        function updatePowerButton() {"
"            const btn = document.getElementById('power-btn');"
"            if(powerState) {"
"                btn.textContent = 'ğŸ’¡ å…³é—­LED';"
"                btn.className = 'btn btn-power';"
"            } else {"
"                btn.textContent = 'ğŸ’¡ å¼€å¯LED';"
"                btn.className = 'btn btn-power off';"
"            }"
"        }"
"        "
"        async function setEffect(effect) {"
"            if(!powerState) {"
"                showNotification('è¯·å…ˆå¼€å¯LED', 'error');"
"                return;"
"            }"
"            try {"
"                const response = await fetch('/api/led/effect', {"
"                    method: 'POST',"
"                    headers: {'Content-Type': 'application/json'},"
"                    body: JSON.stringify({effect: effect})"
"                });"
"                if(response.ok) {"
"                    currentEffect = effect;"
"                    updateEffectButtons();"
"                    showNotification('ç‰¹æ•ˆå·²åˆ‡æ¢', 'success');"
"                } else {"
"                    throw new Error('æ“ä½œå¤±è´¥');"
"                }"
"            } catch(e) {"
"                showNotification('ç‰¹æ•ˆè®¾ç½®å¤±è´¥', 'error');"
"            }"
"        }"
"        "
"        function updateEffectButtons() {"
"            document.querySelectorAll('.btn-effect').forEach(btn => {"
"                btn.classList.remove('active');"
"                if(btn.onclick.toString().includes(currentEffect)) {"
"                    btn.classList.add('active');"
"                }"
"            });"
"        }"
"        "
"        function setColor(r, g, b) {"
"            currentColor = {r, g, b};"
"            document.getElementById('r-slider').value = r;"
"            document.getElementById('g-slider').value = g;"
"            document.getElementById('b-slider').value = b;"
"            updateDisplays();"
"            updatePreview();"
"            if(powerState) sendColorToDevice();"
"        }"
"        "
"        async function getStatus() {"
"            try {"
"                const response = await fetch('/api/status');"
"                const data = await response.json();"
"                updateNetworkStatus(data);"
"            } catch(e) {"
"                document.getElementById('network-status').innerHTML = '<span style=\"color:red\">âŒ è¿æ¥é”™è¯¯</span>';"
"            }"
"        }"
"        "
"        function updateNetworkStatus(data) {"
"            let statusHtml = '';"
"            if(data.wifi) {"
"                statusHtml += `<p><strong>ğŸ“¶ WiFiçŠ¶æ€:</strong> ${data.wifi.connected ? 'âœ… å·²è¿æ¥' : 'âŒ æœªè¿æ¥'}</p>`;"
"                statusHtml += `<p><strong>ğŸŒ IPåœ°å€:</strong> ${data.wifi.ip}</p>`;"
"                statusHtml += `<p><strong>ğŸ”¥ çƒ­ç‚¹æ¨¡å¼:</strong> ${data.wifi.ap_mode ? 'âœ… å·²å¼€å¯' : 'âŒ æœªå¼€å¯'}</p>`;"
"            }"
"            if(data.led) {"
"                powerState = data.led.power;"
"                updatePowerButton();"
"            }"
"            if(data.uptime) {"
"                statusHtml += `<p><strong>â±ï¸ è¿è¡Œæ—¶é—´:</strong> ${Math.floor(data.uptime/60)}åˆ†é’Ÿ</p>`;"
"            }"
"            document.getElementById('network-status').innerHTML = statusHtml;"
"        }"
"        "
"        function showNotification(message, type) {"
"            const notification = document.createElement('div');"
"            notification.className = `notification ${type}`;"
"            notification.textContent = message;"
"            document.body.appendChild(notification);"
"            setTimeout(() => notification.classList.add('show'), 100);"
"            setTimeout(() => {"
"                notification.classList.remove('show');"
"                setTimeout(() => document.body.removeChild(notification), 300);"
"            }, 3000);"
"        }"
"    </script>"
"</body>"
"</html>";

// è·å–HTMLå†…å®¹å¤§å°çš„å‡½æ•°
size_t get_index_html_size(void)
{
    return strlen(index_html_content);
}

// è·å–HTMLå†…å®¹çš„å‡½æ•°
const char* get_index_html_content(void)
{
    return index_html_content;
}